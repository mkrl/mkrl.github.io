const q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};q();const p=(t,e,n)=>{const o=document.createElement(t);return e&&(o.className=e),n&&(o.innerHTML=n),o},M=(t,e=!1)=>{t.input.readOnly=!e,t.inputContainer.style.opacity=e?"":"0"},U=(t,e)=>{t.className="terminal";const n=p("div","terminal-container"),o=p("div","terminal-type"),r=p("span",void 0,e),s=p("input");return s.setAttribute("type","text"),o.append(r),o.append(s),t.append(n),t.append(o),t.addEventListener("click",()=>s.focus()),{commandContainer:n,input:s,inputContainer:o}};var N=U;const z=(t,e,n,o,r)=>{const s=p("p",void 0,e?r.prompt:t);if(e){const a=p("span","terminal-command",t);s.append(a)}n.append(s),o.scrollIntoView()};var Y=z;const _=(t,e,n)=>{const o=new CustomEvent(t,{detail:n});e.dispatchEvent(o)},G=(t,e)=>{const{print:n}=e,[o,...r]=t.split(" "),s=r.join(" ").match(/('[^']+'|"[^"]+"|[^\s'"]+)/g),a=s===null?[]:s.map(c=>c.replace(/(^['"]|['"]$)/g,"")),i=e.settings.commands[o];i?i.argDescriptions&&i.argDescriptions.length>0&&a.length===0?n(`Usage: ${o} ${i.argDescriptions.map(c=>`[${c}]`).join(" ")}`):(i.func(e,...a),_("onCommand",e.settings.host,t)):(n(`<span class="terminal-error">command not found: ${o}</span>`),_("onCommand404",e.settings.host,t))};var S=G;const L=t=>{const{settings:{host:e}}=t;M(t),t.isProcessRunning=!0,_("onProcessStart",e)},A=t=>{const{input:e,settings:{host:n}}=t;M(t,!0),t.isProcessRunning=!1,e.focus(),_("onProcessStop",n)},V=(t,e,n,o)=>new Promise(r=>{L(n);const s=p("p",void 0,o?n.settings.prompt:""),a=p("span","terminal-command","");o&&s.append(a),n.commandContainer.append(s);let i=0;const c=o?a:s,h=()=>{i<t.length&&n.isProcessRunning?(c.innerHTML+=t.charAt(i),i++,setTimeout(h,e)):(A(n),r(i===t.length))};setTimeout(h,e)});var J=V;const K=t=>{const{input:{value:e},history:n,settings:{historyLength:o}}=t;if(e!==n[0]){if(n.length>=o){t.history=[e,...n.slice(0,-1)];return}t.history=[e,...n],t.lastHistoryIndex=0}},P=(t,e)=>{const{history:n,lastHistoryIndex:o}=t,r=n.length-1;let s;e&&o===0||!e&&o===n.length||r<0||(e?(s=o-1,t.input.value=s-1>=0?n[s-1]:""):(s=o+1,t.input.value=n[o]),t.lastHistoryIndex=s)},X=(t,e)=>{const{input:n,print:o}=e;t.addEventListener("keyup",({key:r,ctrlKey:s})=>{if(s&&r==="c"&&e.isProcessRunning)o("^C"),A(e),_("onProcessInterrupt",t);else{if(e.isProcessRunning)return;if(r==="Enter"){e.lastHistoryIndex=0,n.value.length>0?(o(n.value,!0),K(e),S(n.value,e)):o(" ",!0),n.value="";return}if(r==="ArrowUp"){P(e);return}r==="ArrowDown"&&P(e,!0)}})},B=t=>({name:"help",description:"shows a full list of all available commands",func:({print:e})=>{for(const n in t.settings.commands)Object.hasOwnProperty.call(t.settings.commands,n)&&e(t.settings.commands[n].name+" - "+t.settings.commands[n].description)}});var Q=B;const Z='.terminal{overflow-y:auto;overflow-x:hidden;background-color:var(--terminal-bg-color, black);padding:15px;box-sizing:border-box}.terminal *{color:var(--terminal-fg-color, white);font-family:var(--terminal-font, "Courier New", monospace)}.terminal-type{width:100%;display:flex}.terminal-type>span{padding-right:7pt}.terminal-type>input{flex-grow:2;background:transparent;border:0;font-size:inherit;padding:0}.terminal-type>input:focus{border:none;outline:none}.terminal-container>p{margin:0}span.terminal-command{color:var(--terminal-accent-color, #ffff7d)}span.terminal-error{color:var(--terminal-error-color, #cc1010)}';var tt=Z;const et=()=>{if(document.head.querySelectorAll('link[data-type="terminal"]').length===0){const t=p("style",void 0,tt);t.setAttribute("data-type","terminal"),t.setAttribute("type","text/css"),document.head.append(t)}};var nt=et;const ot=(t,e,n)=>{n.prompt=t;const o=e.querySelector("span");o.innerHTML=t};var rt=ot;const st=({host:t,welcomeMessage:e,prompt:n="$: ",historyLength:o=50,history:r=[],enableHelp:s=!0,commands:a})=>{const i={host:t,welcomeMessage:e,prompt:n,historyLength:o,enableHelp:s,commands:a};nt();const{commandContainer:c,input:h,inputContainer:O}=N(t,n),m={history:r,lastHistoryIndex:0,isProcessRunning:!1,settings:i,commandContainer:c,inputContainer:O,input:h,print:(d,w=!1)=>Y(d,w,c,h,i),run:d=>S(d,m),start:()=>L(m),stop:()=>A(m),type:(d,w=60,j)=>J(d,w,m,j),setPrompt:d=>rt(d,O,i)};return s&&(m.settings.commands.help=Q(m)),X(t,m),_("onInit",t),e&&m.print(e),m};var it=st,l={"/about.txt":{name:"about.txt",type:"txt",data:"Hi. I'm Mikhail. I'm a software engineer. This is my home page. You won't be greeted with a logotype, fancy design or a catchy title.<br>If you need something, feel free to browse around.<br>My entire career is here, condensed in ~30 kilobytes of this website code."},"/contact/README.txt":{name:"README.txt",type:"txt",data:"Find ways to contact me"},"/contact/blog":{name:"blog",type:"url",url:"https://dev.to/mkrl",description:"I sometimes write but there's not much to see. More stuff anytime soon? Who knows."},"/contact/email":{name:"email",type:"url",url:"mailto:self@mkrl.xyz",description:"My personal email. Please do not share it with anyone else. I will not share it with anyone else (this text was generated by Github Copilot and I love it)"},"/contact/github":{name:"github",type:"url",url:"https://github.com/mkrl",description:"A Github page of mine. Some of my actual paid work is open-source, so you can take a peek at that too."},"/contact/linkedin":{name:"linkedin",type:"url",url:"https://www.linkedin.com/in/mkrl/",description:"Let's connect!"},"/contact/twitter":{name:"twitter",type:"url",url:"https://twitter.com/mkrl__",description:"Short messages on the popular platform"},"/experiments/README.txt":{name:"README.txt",type:"txt",data:"A compilation of my hobby projects in software, hardware and other (sometimes silly) things"},"/experiments/favicon-player":{name:"favicon-player",type:"url",url:"https://mkrl.xyz/faviconayer/",description:"Utilizing WebCodecs API to convert & play video stream in a website favicon. I think WebCodecs API is a great addition to the web platform."},"/experiments/fibonacci-indent":{name:"fibonacci-indent",type:"url",url:"https://github.com/mkrl/fibonacci-indent",description:"Atom (you will never be forgotten) package that adjusts your indentation according to the Fibonacci sequence. Tabs or spaces, it doesn't matter. It's all about the numbers."},"/experiments/misbrands":{name:"misbrands",type:"url",url:"https://github.com/mkrl/misbrands",description:"A collection of slightly cursed programming stickers. Print and hand them out on the next conference! Check out the pull requests for more stickers."},"/experiments/nodecg-layouts":{name:"nodecg-layouts",type:"url",url:"https://github.com/mkrl/nodecg-react-layouts",description:"A NodeCG (broadcast graphics software) starter bundle for an easy state-to-replicant management. Words probably don't make sense, unless you come from the NodeCG world."},"/experiments/pgrant":{name:"pgrant",type:"url",url:"https://github.com/mkrl/pgrant",description:"A GUI wrapper for distributing promotional items in Valve Software games."},"/experiments/rack-timeout":{name:"rack-timeout",type:"url",url:"https://github.com/mkrl/rack-timeout",description:"A fork of Rack::Timeout that can be configured to ignore certain Rails request routes. Made for a Stack Overflow question with a bounty :)"},"/experiments/table-debugger":{name:"table-debugger",type:"url",url:"https://twitter.com/mkrl__/status/1365774927018807297",description:"My first Arduino project is connecting Chrome Developer tools to a table. Smash it for the next breakpoint and instant stress relief."},"/experiments/trow":{name:"trow",type:"url",url:"https://trow.app/",description:"An extremely basic (just the way I like it) version of the scrum poker. Works over WebRTC."},"/experiments/ttty":{name:"ttty",type:"url",url:"https://mkrl.xyz/ttty/",description:`A very simple pure JS lightweight terminal "emulator" that's powering this very website. I managed to squeeze the basic functionality into ~5kb (non-minified).`},"/contact":{name:"contact",type:"dir",description:"Find ways to contact me",entries:[{name:"README.txt",type:"txt",data:"Find ways to contact me"},{name:"blog",type:"url",url:"https://dev.to/mkrl",description:"I sometimes write but there's not much to see. More stuff anytime soon? Who knows."},{name:"email",type:"url",url:"mailto:self@mkrl.xyz",description:"My personal email. Please do not share it with anyone else. I will not share it with anyone else (this text was generated by Github Copilot and I love it)"},{name:"github",type:"url",url:"https://github.com/mkrl",description:"A Github page of mine. Some of my actual paid work is open-source, so you can take a peek at that too."},{name:"linkedin",type:"url",url:"https://www.linkedin.com/in/mkrl/",description:"Let's connect!"},{name:"twitter",type:"url",url:"https://twitter.com/mkrl__",description:"Short messages on the popular platform"}]},"/experiments":{name:"experiments",type:"dir",description:"A compilation of my hobby projects in software, hardware and other (sometimes silly) things",entries:[{name:"README.txt",type:"txt",data:"A compilation of my hobby projects in software, hardware and other (sometimes silly) things"},{name:"favicon-player",type:"url",url:"https://mkrl.xyz/faviconayer/",description:"Utilizing WebCodecs API to convert & play video stream in a website favicon. I think WebCodecs API is a great addition to the web platform."},{name:"fibonacci-indent",type:"url",url:"https://github.com/mkrl/fibonacci-indent",description:"Atom (you will never be forgotten) package that adjusts your indentation according to the Fibonacci sequence. Tabs or spaces, it doesn't matter. It's all about the numbers."},{name:"misbrands",type:"url",url:"https://github.com/mkrl/misbrands",description:"A collection of slightly cursed programming stickers. Print and hand them out on the next conference! Check out the pull requests for more stickers."},{name:"nodecg-layouts",type:"url",url:"https://github.com/mkrl/nodecg-react-layouts",description:"A NodeCG (broadcast graphics software) starter bundle for an easy state-to-replicant management. Words probably don't make sense, unless you come from the NodeCG world."},{name:"pgrant",type:"url",url:"https://github.com/mkrl/pgrant",description:"A GUI wrapper for distributing promotional items in Valve Software games."},{name:"rack-timeout",type:"url",url:"https://github.com/mkrl/rack-timeout",description:"A fork of Rack::Timeout that can be configured to ignore certain Rails request routes. Made for a Stack Overflow question with a bounty :)"},{name:"table-debugger",type:"url",url:"https://twitter.com/mkrl__/status/1365774927018807297",description:"My first Arduino project is connecting Chrome Developer tools to a table. Smash it for the next breakpoint and instant stress relief."},{name:"trow",type:"url",url:"https://trow.app/",description:"An extremely basic (just the way I like it) version of the scrum poker. Works over WebRTC."},{name:"ttty",type:"url",url:"https://mkrl.xyz/ttty/",description:`A very simple pure JS lightweight terminal "emulator" that's powering this very website. I managed to squeeze the basic functionality into ~5kb (non-minified).`}]},"/":{name:"fs",type:"dir",description:!1,entries:[{name:"about.txt",type:"txt",data:"Hi. I'm Mikhail. I'm a software engineer. This is my home page. You won't be greeted with a logotype, fancy design or a catchy title.<br>If you need something, feel free to browse around.<br>My entire career is here, condensed in ~30 kilobytes of this website code."},{name:"contact",type:"dir",description:"Find ways to contact me",path:"/contact"},{name:"experiments",type:"dir",description:"A compilation of my hobby projects in software, hardware and other (sometimes silly) things",path:"/experiments"}]}};const R='<span class="user">guest@mkrl.xyz</span>',T="vfs://.";let f="/";const F=t=>t.endsWith("/")&&t.length>1?t.slice(0,-1):t,at=t=>f=t,ct=()=>f,lt=t=>t.startsWith("~")?`/${t.slice(1)}`:t,mt=t=>{const n=new URL(t,`${T}${f==="/"?"":f}/`).href.slice(T.length);return n==="/"?n:F(n)},g=t=>{const e=F(t);return e.startsWith("/")||e.startsWith("~")?lt(e):mt(e)},C=(t,e,n,o="")=>{if(e.length>0){const r=e.reduce((s,a)=>s.length<=a.length?s:a);t.value=t.value.replace(`${o}${n}`,`${o}${r}`)}},ut=t=>{const{input:e}=t;if(!e.value)return;const n=e.value.trim().split(" ");if(n.length===1){const o=Object.keys(t.settings.commands).filter(r=>r.startsWith(n[0]));C(e,o,n[0])}if(n.length>1){const o=n.pop(),r=g(o),a=Object.keys(l).filter(i=>i.startsWith(r));C(e,a,o," ")}},pt=t=>{const{input:e}=t;e.addEventListener("keydown",n=>{n.key==="Tab"&&(ut(t),n.preventDefault())})},dt=6,_t=[["               (  ) (@@) ( )  (@)  ()    @@    O     @     O     @      ","          (@@@)","      (    )","","   (@@@@)","","(    )"],["               (@@) (  ) (@)  ( ) @()     @ @   O      @     O     @    ","          (   )","      (    )","     @@@@","   (   )","","(@@@@)"],["               ( @)@ (  ) ( ) @( )  ()@        @ @   O      @     O    @","          (   )","      (@@@@)","     ","   (   )","   @@@@","(    )"]].map(t=>t.map(e=>`${" ".repeat(dt)}${e}`)),ht=["      ====        ________                ___________ ","  _D _|  |_______/        \\__I_I_____===__|_________| ","   |(_)---  |   H\\________/ |   |        =|___ ___|   ","   /     |  |   H  |  |     |   |         ||_| |_||   ","  |      |  |   H  |__--------------------| [___] |   ","  | ________|___H__/__|_____/[][]~\\_______|       |   ","  |/ |   |-----------I_____I [][] []  D   |=======|__ "],ft=[["__/ =| o |=-~~\\  /~~\\  /~~\\  /~~\\ ____Y___________|_| "," |/-=|___|=    ||    ||    ||    |_____/~\\___/        ","  \\_/      \\_O=====O=====O=====O/      \\_/            "],["__/ =| o |=-~~\\  /~~\\  /~~\\  /~~\\ ____Y___________|_| "," |/-=|___|=   O=====O=====O=====O|_____/~\\___/        ","  \\_/      \\__/  \\__/  \\__/  \\__/      \\_/            "],["__/ =| o |=-~O=====O=====O=====O\\ ____Y___________|_| "," |/-=|___|=    ||    ||    ||    |_____/~\\___/        ","  \\_/      \\__/  \\__/  \\__/  \\__/      \\_/            "],["__/ =| o |=-O=====O=====O=====O \\ ____Y___________|_| "," |/-=|___|=    ||    ||    ||    |_____/~\\___/        ","  \\_/      \\__/  \\__/  \\__/  \\__/      \\_/            "],["__/ =| o |=-~~\\  /~~\\  /~~\\  /~~\\ ____Y___________|_| "," |/-=|___|=O=====O=====O=====O   |_____/~\\___/        ","  \\_/      \\__/  \\__/  \\__/  \\__/      \\_/            "],["__/ =| o |=-~~\\  /~~\\  /~~\\  /~~\\ ____Y___________|_| "," |/-=|___|=    ||    ||    ||    |_____/~\\___/        ","  \\_/      \\O=====O=====O=====O_/      \\_/            "]];let v=null,k=!0,y=[];const x=(t,e,n,o)=>{const r=document.createElement("div");r.textContent=n[e].join(`
`),t.innerHTML="",t.appendChild(r);const s=a=>{if(!v||a-v>=80&&o===k){k=!k,v=a;const i=(e+1)%n.length;r.textContent=n[i].join(`
`),x(t,i,n,o)}else y.push(requestAnimationFrame(s))};y.push(requestAnimationFrame(s))},yt=()=>new Promise(t=>{const e=document.createElement("div");e.id="sl",document.body.appendChild(e),document.body.classList.add("sl");const n=document.createElement("pre");e.appendChild(n);const o=document.createElement("div");n.appendChild(o),ht.map(s=>{const a=document.createElement("div");a.textContent=s,n.appendChild(a)});const r=document.createElement("div");n.appendChild(r),x(r,0,ft,!0),x(o,0,_t,!1),e.addEventListener("animationend",()=>{n.remove(),e.remove(),y.forEach(s=>cancelAnimationFrame(s)),y=[],document.body.classList.remove("sl"),t()})}),gt=`${R}:/$ `,bt=new Date,wt={url:" ls-url",dir:" ls-dir"},vt=t=>{const e=t.type==="url"?"a":"span",n=t.type==="url"?` href="${t.url}" target="_blank"`:"";return[`<${e}${n}`,`</${e}>`]},E=t=>l[t].type==="dir",$=(t,e,n)=>`<span class="terminal-error">${t}: ${n} ${e}</span>`,I=(t,e)=>$(t,e,"no such file or directory:"),kt=t=>$("cd",t,"not a directory:"),b=t=>{var o;const[e,n]=vt(t);return`${e} class="ls-item${(o=wt[t.type])!=null?o:""}">${t.name}${n}`},xt=t=>{const e=document.createElement("table");return t.forEach(n=>{var a;const o=document.createElement("tr"),r=document.createElement("td"),s=document.createElement("td");r.innerHTML=b(n),s.innerText=(a=n.description)!=null?a:"",o.append(r,s),e.append(o)}),e.outerHTML},D=t=>{const e=new Set;return[t.filter(o=>o.startsWith("-")?(o.replace("-","").split("").forEach(r=>e.add(r)),!1):!0),Array.from(e)]},At=({setPrompt:t,print:e},...n)=>{var s;const o=(s=n[0])!=null?s:"/",r=g(o);r in l?(E(r)||e(kt(r)),at(r),t(`${R}:<b>${r}$ </b>`)):e(I("cd",r))},Et=({print:t},...e)=>{const[n,o]=D(e),r=o.includes("l"),s=o.includes("a"),a=n.length===0?ct():n[0],i=g(a);if(!(i in l)){t(I("ls",i));return}if(!E(i)){t(l[i].name);return}const c=s?[{name:"."},{name:".."},...l[i].entries]:l[i].entries;if(r){t(`${c.length} total`),t(xt(c));return}t(c.map(b).join(""))},$t=({print:t,start:e,stop:n},...o)=>{const[r]=D(o),s=g(r[0]);if(!(s in l)){t(I("cat",s));return}if(E(s)){t($("cat",s,"is a directory"));return}if(l[s].type==="url"){const{description:i,url:c}=l[s];t(i),t(`<a href="${c}" class="ls-url" target="_blank">${c}</a>`);return}t(l[s].data)},H="\u2514\u2500\u2500",W=(t,e,n)=>{l[t].entries.map(r=>{const a=`${H.repeat(e+1)} ${b(r)}`;n(a),r.type==="dir"&&W(r.path,e+1,n)})},It=({print:t})=>{const e=l["/"];t("/"),e.entries.forEach((n,o)=>{t(`${H} ${b(n)}`),n.type==="dir"&&W(n.path,1,t)})},Ot=({start:t,stop:e})=>{t(),yt().finally(e)},Pt=t=>{const e=t-bt,n=Math.floor(e/1e3),o=Math.floor(n/60),r=Math.floor(o/60),s=Math.floor(r/24);return[{unit:"day",value:s},{unit:"hour",value:r%24},{unit:"minute",value:o%60},{unit:"second",value:n%60}].filter(i=>i.value>0).map(i=>`${i.value} ${i.unit}${i.value>1?"s":""}`).join(", ")},Tt=({print:t})=>{const e=new Intl.DateTimeFormat("en-en",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}),n=new Date;t(`${e.format(new Date)} up ${Pt(n)}, 1 user, load average: 0.00, 0.00, 0.00`)},Ct=t=>{const e="background-color: black; color: white; font-style: monospace; font-size: 1.5em;";let n=!1;t.enqueue=o=>{n||console.log('%cImpressive! Now try changing the prompt to something ridiculous with "terminal.setPrompt("\u{1F916}: ")"',e),t.print(o,!0),t.run(o),n=!0},window.terminal=t,console.log("%cWow, you have accessed console in a console website! How deep does that go?",e),console.log('%cYou can directly communicate with the terminal here by using "terminal.enqueue("command")"',e)},u=it({host:document.querySelector("#terminal"),prompt:gt,commands:{cd:{name:"cd",description:"navigate to a directory",func:At},ls:{name:"ls",description:"list directory contents",func:Et},sl:{name:"sl",description:"run a steam locomotive",func:Ot},cat:{name:"cat",description:"view a file",argDescriptions:["file path"],func:$t},tree:{name:"tree",description:"list all files and directories in a tree-like format",func:It},clear:{name:"clear",description:"wipe the terminal screen",func:({commandContainer:t})=>t.innerHTML=""},uptime:{name:"uptime",description:"how long have you been here?",func:Tt}}});pt(u);Ct(u);const Mt=async()=>{await u.type("cat /about.txt",60,!0)&&(u.run("cat /about.txt"),await u.type("help",60,!0)&&(u.run("help"),await u.type("ls -la /experiments",60,!0)&&u.run("ls -la /experiments"))),u.input.focus()};Mt();
